<!-- post.ejs -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Posts</title>
    <link rel="stylesheet" href="/styles.css" />
    <script src="js/check-login.js"></script>
  </head>
  <body>
    <menu>
      <ul class="topnav">
        <li class="active"><a href="/">Home</a></li>
        <li><a href="/about">About Forum</a></li>
        <li><a href="/posts">Posts</a></li>
        <li><a href="/add_post">Add Post</a></li>
        <li><a href="/search_post">Search Post</a></li>
        <li><a href="/topics">Topics</a></li>
        <li><a href="/users">Users</a></li>
        <li><a href="/register">Register</a></li>
        <li><a href="/login" id="loginButton">Log in</a></li>
      </ul>
    </menu>
    <div class="container">
      <h1>Posts</h1>

      <% if (posts && posts.length > 0) { %>
      <ul class="post-list">
        <% posts.forEach(post => { %>
        <li>
          <h2>
            <a href="/post?post_id=<%= post.post_id %>"
              ><%= post.post_title %></a
            >
          </h2>
          <p><strong>Topic:</strong> <%= post.topic_title %></p>
          <p><strong>Author:</strong> <%= post.username %></p>

          <p><strong>Created at:</strong> <%= post.created_at %></p>
          <div class="row replies">
            <span><%= post.reply_count %></span>
            <svg
              fill="#000000"
              height="15px"
              width="15px"
              version="1.1"
              id="Layer_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              viewBox="0 0 324.143 324.143"
              xml:space="preserve"
              class="chat-icon"
            >
              <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
              <g
                id="SVGRepo_tracerCarrier"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></g>
              <g id="SVGRepo_iconCarrier">
                <g>
                  <g>
                    <g>
                      <circle cx="88.071" cy="164.571" r="19"></circle>
                      <circle cx="162.071" cy="164.571" r="19"></circle>
                      <path
                        d="M162.071,0C73.162,0,0.83,72.332,0.83,161.241c0,37.076,12.788,73.004,36.1,101.677 c-6.65,16.756-17.788,31.245-32.401,42.089c-2.237,1.66-3.37,4.424-2.94,7.177c0.429,2.754,2.349,5.042,4.985,5.942 c11.683,3.992,23.856,6.017,36.182,6.017c19.572,0,38.698-5.093,55.569-14.763c20.158,8.696,41.584,13.104,63.747,13.104 c88.909,0,161.241-72.333,161.241-161.242S250.98,0,162.071,0z M162.071,307.483c-21.32,0-41.881-4.492-61.11-13.351 c-2.292-1.057-4.959-0.891-7.102,0.443c-15.313,9.529-32.985,14.566-51.104,14.566c-6.053,0-12.065-0.564-17.981-1.684 c12.521-12.12,22.014-26.95,27.788-43.547c0.878-2.525,0.346-5.328-1.398-7.354C28.378,230.07,15.83,196.22,15.83,161.241 C15.83,80.604,81.434,15,162.071,15s146.241,65.604,146.241,146.241C308.313,241.88,242.709,307.483,162.071,307.483z"
                      ></path>
                      <circle cx="236.071" cy="164.571" r="19"></circle>
                    </g>
                  </g>
                </g>
              </g>
            </svg>
          </div>
        </li>
        <% }); %>
      </ul>
      <% } else { %>
      <p>No posts found.</p>
      <% } %>

      <a href="/">Back to Home</a>
    </div>
    <footer>
      <!-- Your footer content goes here -->
      &copy; Very important Forum
    </footer>
  </body>
</html>
